{% extends 'project/base_detail.html' %}
{% load computing_tags %}
{% block content %}
  <div class="page-wrapper">
    <div class="page-header d-print-none">
      <div class="container-xl">
        <div class="row g-2 align-items-center">
          <div class="col">
            <h2 class="page-title">
              Submissions
            </h2>
          </div>
        </div>
      </div>
    </div>
    <div class="page-body">
      <div class="container-xl">
        <div class="card">
          <table class="table table-striped table-hover table-row-clickable">
            <thead>
            <tr>
              <th>Submission</th>
              <th>Submitter</th>
              <th>Challenge</th>
              <th>Created at</th>
              <th>Executed</th>
            </tr>
            </thead>
            <tbody>
            {% for s in submissions %}
              <tr class="" onclick="window.location.href='{% url 'challenge:challenge_submission:detail' s.challenge.pk s.pk %}'">
                <td>
                  {{ s.name }}
                </td>
                <td>{{ s.submitter }}</td>
                <td>{{ s.challenge.name }}</td>
                <td>{{ s.date_created|date:'SHORT_DATETIME_FORMAT' }}</td>
                <td>{{ s.computing_pipeline|pipeline_was_executed:request.user.profile }}</td>
              </tr>
            {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
